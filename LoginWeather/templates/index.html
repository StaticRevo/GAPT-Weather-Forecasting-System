<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>{{ title }} - Weather Channel</title>
        <meta name="description" content="Discover our restaurant by the sea!">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
        <script src="https://kit.fontawesome.com/9877e2c6ca.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/{{ filename }}-style.css">
        <script type="text/javascript" src="javascript/header.js"></script> <!-- updated -->
        <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
        <script src="https://api.windy.com/assets/map-forecast/libBoot.js"></script>
    </head>

    <body>

        <div class="container">
            <div class="column favorites-column" id="favorites-column">
                <!-- favorites column -->
                <div class="favorites-header">
                    <div>
                        <h2 class="favorites-text">Favorites</h2>
                    </div>
                    <div>
                        <button>Add Favorite</button>
                        <div class="bx bx-menu" id="menu-icon">&#9776;</div>
                    </div>
                </div>
            </div>
        

            <div class="column weather-column" id="weather-column">

                <div class="header">
                    <!-- Sign In And Login Menu -->
                    <div class="mainHead">
                        <div class="toggleButton" id="toggleButton">
                            <img src="images/three-lines-header.png" alt="Favorite Icon" class="toggle-favorites">
                        </div> 
                        <a href="settings.php"><img src="images/settings.png" alt="Settings Icon" class="settings-button"></a>                                        
                        {% if logged_in %}
                            <a href="profile.php" class="user user-link"><i class="ri-user-fill"></i>Profile</a>
                            <a href="gen-php/signout.php" class="user-link">Sign Out</a>
                        {% else %}
                            <a href="login.php" class="user user-link"><i class="ri-user-fill"></i>Sign in</a>
                            <a href="register.php" class="user-link">Register</a>
                        {% endif %}
                        <div class="bx bx-menu" id="menu-icon"></div>
                    </div>

                    <!--<nav>
                        <ul class = "nav_links">
                            <li><a href="index.php">Home</a></li>
                            
                        </ul>
                    </nav> --> 

                    <!-- Content for the right column goes here -->
                    <div class="search-bar">
                        <input class="search-input" id="searchInput" type="text" placeholder="Search...">
                        <button onclick="searchLocation(), searchLocationForecast(), searchLocationWindy()" class="search-button">Search</button>
                    </div>
                </div>

                <img src="images/cloud.png" alt="Cloud Overlay" class="cloud-overlay-1">
                <img src="images/cloud.png" alt="Cloud Overlay" class="cloud-overlay-2">
                
                <div class="weather-details">
                    <div class="city-name" id="city-name">Valletta</div>
                    <div class="temperature" id="temperature">Loading...</div>
                    <div class="condition" id="condition">Loading...</div>
                    <div class="high-low" id="high-low">Loading...</div>
                </div>

                <!-- New div with weather information -->
                <div class="weather-info">
                <div class="forecast-header">
                <div class="forecast-title">Today's Forecast</div>
                <div class="current-date">February 19, 2024</div>
            </div>
                <!-- Container for time slots -->
                <div class="time-slots-container">
                    <!-- time slots -->
                    <div class="time-slot">
                        <div class="temp">22¬∞C</div>
                        <div class="weather-icon">‚òÄÔ∏è</div>
                        <div class="time">13:00</div>
                    </div>
                    <div class="time-slot">
                        <div class="temp">24¬∞C</div>
                        <div class="weather-icon">üå§Ô∏è</div>
                        <div class="time">14:00</div>
                    </div>
                    <div class="time-slot">
                        <div class="temp">26¬∞C</div>
                        <div class="weather-icon">‚õÖ</div>
                        <div class="time">15:00</div>
                    </div>
                    <div class="time-slot">
                        <div class="temp">28¬∞C</div>
                        <div class="weather-icon">üå•Ô∏è</div>
                        <div class="time">16:00</div>
                    </div>
                    <div class="time-slot">
                        <div class="temp">25¬∞C</div>
                        <div class="weather-icon">‚òÅÔ∏è</div>
                        <div class="time">17:00</div>
                    </div>
                    <div class="time-slot">
                        <div class="temp">23¬∞C</div>
                        <div class="weather-icon">üå¶Ô∏è</div>
                        <div class="time">18:00</div>
                    </div>
                    <div class="time-slot">
                        <div class="temp">21¬∞C</div>
                        <div class="weather-icon">üåßÔ∏è</div>
                        <div class="time">19:00</div>
                    </div>
                    <div class="time-slot">
                        <div class="temp">19¬∞C</div>
                        <div class="weather-icon">üåßÔ∏è</div>
                        <div class="time">20:00</div>
                    </div>
                    <div class="time-slot">
                        <div class="temp">18¬∞C</div>
                        <div class="weather-icon">üåßÔ∏è</div>
                        <div class="time">21:00</div>
                    </div>
                    <div class="time-slot">
                        <div class="temp">17¬∞C</div>
                        <div class="weather-icon">üåßÔ∏è</div>
                        <div class="time">22:00</div>
                    </div>
                </div>
            </div>
            <div class="additional-info">
                <div class="Fourteen-day-column">
                    <div class="forecast-title">14 Day Forecast</div>
                    <!-- Individual day slots -->
                    <!-- Day 1 -->

                    {% for day in 1..14 %}
                        <!-- Individual day slots -->
                        <div class="day-slot">
                            <div class="day-info">
                                <div class="day-name" id="day-name{{ day }}">Loading...</div>
                                <div class="date" id="date{{ day }}">Loading...</div>
                            </div>
                            <div class="conditions" id="conditions{{ day }}">Loading...</div>
                            <div class="temperature-info">
                                <div class="high-temp" id="high-temp{{ day }}">High: Loading...</div>
                                <div class="low-temp" id="low-temp{{ day }}">Low: Loading...</div>
                            </div>
                        </div>
                    {% endfor %}

                </div>
                
                <div class="widgets-column">
                    <!-- Pressure Widget (1/3) -->
                    <div class="widget-small">
                        <h3>üåßÔ∏è Precipitation</h3>
                        <p class="widget-text">0mm in</p>
                        <p class="widget-text2">past 24hrs</p>
                        <p class="widget-bottom-text">3mm expected tomorrow</p>
                    </div>
                
                    <!-- Wind Map Widget (2/3) -->
                    
                
                    <!-- Precipitation Widget (1/3) -->
                    <div class="widget-small">
                        <h3>‚òÄÔ∏è UV Index</h3>
                        <p class="widget-text">6 of 10</p>
                        <p class="widget-text2">High</p>
                        <p class="widget-bottom-text">3 of 10 expect tomorrow</p>
                    </div>

                    <div class="widget-small">
                        <h3>üå°Ô∏è Real Feel</h3>
                        <p class="widget-text">12¬∞C</p>
                        <p class="widget-text2"></p>
                        <p class="widget-bottom-text">Feels colder than actual temperature</p>
                    </div>

                    <div class="widget-small">
                        <h3>üí® Wind</h3>
                        <p class="widget-text">9.7km/h</p>
                        <p class="widget-text2"></p>
                        <p class="widget-bottom-text">Wind is coming from the east</p>
                    </div>

                    <div class="widget-large">
                        <h3>üåï Sunrise & Sunset</h3>
                        <!-- Add content specific to precipitation widget here -->
                    </div>

                    <div class="widget-small">
                        <h3>üëÅÔ∏è Visibility</h3>
                        <p class="widget-text">27km</p>
                        <p class="widget-text2"></p>
                        <p class="widget-bottom-text">Perfectly clear view</p>
                    </div>

                    <div class="widget-small">
                        <h3>üóúÔ∏è Pressure</h3>
                        <p class="widget-text">1024hPa</p>
                        <div class="pressure-bar-wrapper">
                            <div class="pressure-bar" id="pressureBar"></div>
                        </div>
                    </div>

                    <div class="widget-small">
                        <h3>üíß Humidity</h3>
                        <p class="widget-text">67%</p>
                        <p class="widget-text2"></p>
                        <p class="widget-bottom-text">The dew point is 10¬∞C</p>
                    </div>
                </div>  
            </div>

            <div class="widget-windy">
               <!-- <h3>Wind Map</h3>-->
                <div id="windy"></div>
                <script src="scripts/windy.js"></script>
            </div>

        </div>

        <script src="scripts/toggleFavorites.js"></script>
        <script src="scripts/getWeather.js"></script>
        <script src="scripts/pressureBar.js"></script>
        <script src="scripts/fourteenDayForecast.js"></script>

    </body>
</html>
